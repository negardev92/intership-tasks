<div class="container mt-4">
    
    <button class="btn btn-primary" id="btn-bag" (click)="toggleSidebar()" routerLink="products/shopingcart" >سبد خرید</button>
  
    
    <div 
      class="sidebar p-3" 
      [ngClass]="{ 'active': isSidebarOpen }" 
      (click)="preventClose($event)">
      
      <button class="close-btn btn btn-outline-dark" (click)="toggleSidebar()">&times;</button>
      <h5 class="mb-3 text-center">سبد خرید</h5>
      <div *ngIf="cartItems.length === 0" class="text-center mt-5">
        <p>سبد خرید شما خالی است.</p>
      </div>
  
      <div *ngFor="let item of cartItems" class="cart-item border-bottom pb-3 mb-3">
        <div class="d-flex align-items-center">
          <img [src]="item.imageUrl" alt="{{ item.name }}" class="cart-item-image me-3" />
          <div>
            <p class="mb-1">{{ item.name }}</p>
            <p class="mb-1 text-muted">قیمت: ${{ item.price }}</p>
            <p class="mb-1">تعداد: {{ item.counter }}</p>
          </div>
        </div>
        <div class="d-flex justify-content-between m-2">
          <button class="btn btn-outline-secondary btn-sm" (click)="increaseQuantity(item.id)">+</button>
          <button class="btn btn-outline-secondary btn-sm" (click)="decreaseQuantity(item.id)">-</button>
          <button class="btn btn-danger btn-sm" (click)="removeFromCart(item.id)">حذف</button>
        </div>
      </div>
  
      <div *ngIf="cartItems.length > 0" class="mt-3">
        <p class="text-end"><strong>جمع کل: ${{ totalPrice }}</strong></p>
        <button class="btn btn-success w-100">تایید خرید</button>
      </div>
    </div>
  
    <div 
      class="overlay" 
      *ngIf="isSidebarOpen" 
      (click)="toggleSidebar()">
    </div>
  </div>
 